tinymce.PluginManager.add("form_insert",function(n){function t(n,t,e){function o(n,e){return e=e||[],tinymce.each(n,function(n){var i={text:n.text||n.title};n.menu?i.menu=o(n.menu):(i.value=n.value,t&&t(i)),e.push(i)}),e}return o(n,e||[])}function e(n,t){var e;return e="[?]{="+n+":"+t+"}[?]"}function o(){var o=[{text:"Forms",value:"forms"},{text:"Widget",value:"widget"}];n.windowManager.open({title:"CSZ-CMS Forms/Widget",body:[{name:"type",type:"listbox",label:"Type",values:t(o)},{type:"textbox",name:"name",label:"Name",size:40}],onsubmit:function(t){var o=e(t.data.type,t.data.name);n.execCommand("mceInsertContent",!1,o)}})}n.addButton("form_insert",{icon:"glyphicons guicon guicon-form",tooltip:"Insert Forms/Widget",onclick:function(){o()}}),n.addMenuItem("form_insert",{icon:"glyphicons guicon guicon-form",text:"Forms",onclick:function(){o()},context:"insert",prependToContext:!0})});